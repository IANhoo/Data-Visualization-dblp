
    var data1 = [
        {group: "1945", value: 1},
        {group: "1954", value: 1.333333333},
        {group: "1955", value: 1.409090909},
        {group: "1956", value: 1.405405405},
        {group: "1957", value: 1.483333333},
        {group: "1958", value: 1.359550562},
        {group: "1959", value: 1.442857143},
        {group: "1960", value: 1.368421053},
        {group: "1961", value: 1.313953488},
        {group: "1962", value: 1.2875},
        {group: "1963", value: 1.252252252},
        {group: "1964", value: 1.392156863},
        {group: "1965", value: 1.301587302},
        {group: "1966", value: 1.314935065},
        {group: "1967", value: 1.348314607},
        {group: "1968", value: 1.42745098},
        {group: "1969", value: 1.298165138},
        {group: "1970", value: 1.363408521},
        {group: "1971", value: 1.40227704},
        {group: "1972", value: 1.447278912},
        {group: "1973", value: 1.4484375},
        {group: "1974", value: 1.474431818},
        {group: "1975", value: 1.554679803},
        {group: "1976", value: 1.590509666},
        {group: "1977", value: 1.546732837},
        {group: "1978", value: 1.597701149},
        {group: "1979", value: 1.616954474},
        {group: "1980", value: 1.615591398},
        {group: "1981", value: 1.680564464},
        {group: "1982", value: 1.648542601},
        {group: "1983", value: 1.706906232},
        {group: "1984", value: 1.726622662},
        {group: "1985", value: 1.74201019},
        {group: "1986", value: 1.790921596},
        {group: "1987", value: 1.810938846},
        {group: "1988", value: 1.846324344},
        {group: "1989", value: 1.867589528},
        {group: "1990", value: 1.868134856},
        {group: "1991", value: 1.893489708},
        {group: "1992", value: 1.957281095},
        {group: "1993", value: 2.042328042},
        {group: "1994", value: 2.030484384},
        {group: "1995", value: 2.113486842},
        {group: "1996", value: 2.051816471},
        {group: "1997", value: 2.154564173},
        {group: "1998", value: 2.17853764},
        {group: "1999", value: 2.218058384},
        {group: "2000", value: 2.275736632},
        {group: "2001", value: 2.334052271},
        {group: "2002", value: 2.403944161},
        {group: "2003", value: 2.25}
    ];
    
    var data2 = [
    {"group": 1959,
        "value": 1.5375
    },
    {
        "group": 1960,
        "value": 1.111111111
    },
    {
        "group": 1961,
        "value": 1.461538462
    },
    {
        "group": 1962,
        "value": 1.387755102
    },
    {
        "group": 1963,
        "value": 1.230769231
    },
    {
        "group": 1964,
        "value": 1.32
    },
    {
        "group": 1965,
        "value": 1.625
    },
    {
        "group": 1966,
        "value": 1.517241379
    },
    {
        "group": 1967,
        "value": 1.685714286
    },
    {
        "group": 1968,
        "value": 1.483552632
    },
    {
        "group": 1969,
        "value": 1.591666667
    },
    {
        "group": 1970,
        "value": 1.291139241
    },
    {
        "group": 1971,
        "value": 1.691764706
    },
    {
        "group": 1972,
        "value": 1.460122699
    },
    {
        "group": 1973,
        "value": 1.518324607
    },
    {
        "group": 1974,
        "value": 1.562706271
    },
    {
        "group": 1975,
        "value": 1.619047619
    },
    {
        "group": 1976,
        "value": 1.642752562
    },
    {
        "group": 1977,
        "value": 1.694530444
    },
    {
        "group": 1978,
        "value": 1.57375
    },
    {
        "group": 1979,
        "value": 1.655373832
    },
    {
        "group": 1980,
        "value": 1.637401229
    },
    {
        "group": 1981,
        "value": 1.668997669
    },
    {
        "group": 1982,
        "value": 1.760964912
    },
    {
        "group": 1983,
        "value": 1.77868459
    },
    {
        "group": 1984,
        "value": 1.865799105
    },
    {
        "group": 1985,
        "value": 1.796903133
    },
    {
        "group": 1986,
        "value": 1.88540146
    },
    {
        "group": 1987,
        "value": 1.885567263
    },
    {
        "group": 1988,
        "value": 1.946726951
    },
    {
        "group": 1989,
        "value": 1.964612062
    },
    {
        "group": 1990,
        "value": 2.006842184
    },
    {
        "group": 1991,
        "value": 2.076608911
    },
    {
        "group": 1992,
        "value": 2.125
    },
    {
        "group": 1993,
        "value": 2.205936301
    },
    {
        "group": 1994,
        "value": 2.252411954
    },
    {
        "group": 1995,
        "value": 2.327415713
    },
    {
        "group": 1996,
        "value": 2.354001015
    },
    {
        "group": 1997,
        "value": 2.450796827
    },
    {
        "group": 1998,
        "value": 2.480024661
    },
    {
        "group": 1999,
        "value": 2.562391544
    },
    {
        "group": 2000,
        "value": 2.611560516
    },
    {
        "group": 2001,
        "value": 2.629267511
    },
    {
        "group": 2002,
        "value": 2.69427157
    }
    ];
    
    var data3 = [
    {
        "group": 1949,
        "value": 1
    },
    {
        "group": 1950,
        "value": 1
    },
    {
        "group": 1953,
        "value": 1
    },
    {
        "group": 1963,
        "value": 1
    },
    {
        "group": 1967,
        "value": 1
    },
    {
        "group": 1968,
        "value": 1
    },
    {
        "group": 1969,
        "value": 1
    },
    {
        "group": 1970,
        "value": 1
    },
    {
        "group": 1971,
        "value": 1
    },
    {
        "group": 1972,
        "value": 1
    },
    {
        "group": 1973,
        "value": 1.166666667
    },
    {
        "group": 1974,
        "value": 2
    },
    {
        "group": 1975,
        "value": 1.090909091
    },
    {
        "group": 1976,
        "value": 1.666666667
    },
    {
        "group": 1977,
        "value": 1
    },
    {
        "group": 1978,
        "value": 1.5
    },
    {
        "group": 1979,
        "value": 1.714285714
    },
    {
        "group": 1980,
        "value": 1.111111111
    },
    {
        "group": 1981,
        "value": 1.777777778
    },
    {
        "group": 1982,
        "value": 2
    },
    {
        "group": 1983,
        "value": 1.909090909
    },
    {
        "group": 1984,
        "value": 1.466666667
    },
    {
        "group": 1985,
        "value": 2.4
    },
    {
        "group": 1986,
        "value": 1.333333333
    },
    {
        "group": 1987,
        "value": 1.909090909
    },
    {
        "group": 1988,
        "value": 1.631578947
    },
    {
        "group": 1989,
        "value": 1.483870968
    },
    {
        "group": 1990,
        "value": 1.424242424
    },
    {
        "group": 1991,
        "value": 1.6
    },
    {
        "group": 1992,
        "value": 1.228070175
    },
    {
        "group": 1993,
        "value": 1.390625
    },
    {
        "group": 1994,
        "value": 1.441860465
    },
    {
        "group": 1995,
        "value": 1.40625
    },
    {
        "group": 1996,
        "value": 1.283018868
    },
    {
        "group": 1997,
        "value": 1.490196078
    },
    {
        "group": 1998,
        "value": 1.344827586
    },
    {
        "group": 1999,
        "value": 1.64
    },
    {
        "group": 2000,
        "value": 1.675675676
    },
    {
        "group": 2001,
        "value": 1.46875
    },
    {
        "group": 2002,
        "value": 1.5
    },
    {
        "group": 2003,
        "value": 2
    }
    ];
    
    var data4 = [
    {"group": 1983, "value": 3.181818182},
    {
        "group": 1984,
        "value": 1.481481481
    },
    {
        "group": 1985,
        "value": 2.205128205
    },
    {
        "group": 1986,
        "value": 1.756097561
    },
    {
        "group": 1987,
        "value": 1.954545455
    },
    {
        "group": 1988,
        "value": 1.923076923
    },
    {
        "group": 1989,
        "value": 2.833333333
    },
    {
        "group": 1990,
        "value": 2.039215686
    },
    {
        "group": 1991,
        "value": 2.16091954
    },
    {
        "group": 1992,
        "value": 2.309859155
    },
    {
        "group": 1993,
        "value": 1.617647059
    },
    {
        "group": 1995,
        "value": 2.089285714
    },
    {
        "group": 1996,
        "value": 2.010526316
    },
    {
        "group": 1997,
        "value": 1.68627451
    },
    {
        "group": 1998,
        "value": 2.833333333
    },
    {
        "group": 1999,
        "value": 1.803278689
    },
    {
        "group": 2000,
        "value": 2.307692308
    },
    {
        "group": 2001,
        "value": 1.896907216
    },
    {
        "group": 2002,
        "value": 2.5
    }
    ];
    console.log(typeof data1);
 
    let format = d3.format(",");
    //const el = $(container);
    // set the dimensions and margins of the graph
    var margin = {top: 30, right: 0, bottom: 20, left: 30},
        width = 1300 - margin.left - margin.right,
        height = 450 - margin.top - margin.bottom;

    // append the svg object to the body of the page
    var svg = d3.select("#my_dataviz")
    .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
    .append("g")
        .attr("transform",
            "translate(" + margin.left + "," + margin.top + ")");

    // Initialize the X axis
    var x = d3.scaleBand()
    .range([ 0, width ])
    .padding(0.1);
    var xAxis = svg.append("g")
    .attr("transform", "translate(0," + height + ")")

    // Initialize the Y axis
    var y = d3.scaleLinear()
    .range([ height, 0]);
    var yAxis = svg.append("g")
    .attr("class", "myYaxis")


    // A function that create / update the plot for a given variable:
    function update(data) {

    // Update the X axis
    x.domain(data.map(function(d) { return d.group; }))
    xAxis.call(d3.axisBottom(x))

    // Update the Y axis
    y.domain([0, d3.max(data, function(d) { return d.value }) ]);
    yAxis.transition().duration(1000).call(d3.axisLeft(y));

    // Create the u variable
    var u = svg.selectAll("rect")
        .data(data)

    u
        .enter()
        .append("rect") // Add a new rect for each new elements
        .merge(u) // get the already existing elements as well
        .transition() // and apply changes to all of them
        .duration(1000)
        .attr("x", function(d) { return x(d.group); })
        .attr("y", function(d) { return y(d.value); })
        .attr("width", x.bandwidth())
        .attr("height", function(d) { return height - y(d.value); })
        .attr("fill", "steelblue")

    // If less group in the new dataset, I delete the ones not in use anymore
    u
        .exit()
        .remove()
    }

    // Initialize the plot with the first dataset
    update(data1)
